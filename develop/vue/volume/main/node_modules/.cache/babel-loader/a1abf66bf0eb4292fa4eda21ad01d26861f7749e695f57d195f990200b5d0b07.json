{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport router from '@/router';\nimport axiosInstance from '../axiosService';\n//import axios from 'axios';\n\n// Se encarga de recoger los datos del navegador y enviarlos al servidor\n// Home View\nfunction collectBrowserData() {\n  const data = {\n    browserName: navigator.appName,\n    browserVersion: navigator.appVersion,\n    userAgent: navigator.userAgent,\n    language: navigator.language,\n    platform: navigator.platform,\n    screenResolution: `${screen.width}x${screen.height}`\n  };\n  sendDataToServer(data);\n}\n\n//HomeView @POST /login_log\nasync function sendDataToServer(data) {\n  axiosInstance.post('http://localhost:4242/api/log', data, {\n    timeout: 5000\n  }).then(response => {\n    console.log('Datos enviados al servidor:', response);\n  }).catch(error => {\n    console.error('Error al enviar datos:', error);\n  });\n}\n\n//RegisterView @POST /create_user\nasync function register(credentials) {\n  try {\n    const response = await axiosInstance.post('/login/register', credentials);\n    return {\n      success: true,\n      data: response.data,\n      error: null\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: null,\n      error: error.response.data.detail || 'Error desconocido.'\n    };\n  }\n}\n\n//LoginView @POST /login_user\nasync function login(credentials) {\n  try {\n    const response = await axiosInstance.post('/login/default', credentials);\n    return {\n      success: true,\n      data: response.data,\n      error: null\n    };\n  } catch (error) {\n    if (error.response.status == 428) router.push('/otp');\n    return {\n      success: false,\n      data: null,\n      error: error.response.data.detail || 'Error desconocido.'\n    };\n  }\n}\nasync function handleIntraRedirect() {\n  try {\n    // Peticion de build url al back\n    // const response = await axios.get('http://localhost:4242/api/intra');\n    // Redireccion a la url\n    window.location.href = 'http://localhost:4242/api/intra';\n  } catch (error) {\n    console.error('Error al manejar el inicio de sesión con Intra 42:', error);\n  }\n}\nexport { handleIntraRedirect, collectBrowserData, sendDataToServer, register, login };","map":{"version":3,"names":["router","axiosInstance","collectBrowserData","data","browserName","navigator","appName","browserVersion","appVersion","userAgent","language","platform","screenResolution","screen","width","height","sendDataToServer","post","timeout","then","response","console","log","catch","error","register","credentials","success","detail","login","status","push","handleIntraRedirect","window","location","href"],"sources":["/Trascendence/src/methods/api/login.js"],"sourcesContent":["import router from '@/router';\nimport axiosInstance from '../axiosService';\n//import axios from 'axios';\n\n\n// Se encarga de recoger los datos del navegador y enviarlos al servidor\n// Home View\nfunction collectBrowserData() {\n    const data = {\n    browserName: navigator.appName,\n    browserVersion: navigator.appVersion,\n    userAgent: navigator.userAgent,\n    language: navigator.language,\n    platform: navigator.platform,\n    screenResolution: `${screen.width}x${screen.height}`,\n  };\n  sendDataToServer(data);\n}\n\n//HomeView @POST /login_log\nasync function sendDataToServer(data) {\n    axiosInstance.post('http://localhost:4242/api/log', data,  { timeout: 5000 })\n    .then((response) => {\n      console.log('Datos enviados al servidor:', response);\n    })\n    .catch((error) => {\n      console.error('Error al enviar datos:', error);\n    });\n}\n\n//RegisterView @POST /create_user\nasync function register(credentials) {\n    try {\n        const response = await axiosInstance.post('/login/register', credentials);\n        return { success: true, data: response.data, error: null };\n\n    } catch (error) {\n        return { success: false, data: null, error: error.response.data.detail || 'Error desconocido.' };\n    }\n}\n\n//LoginView @POST /login_user\nasync function login(credentials) {\n    try {\n        const response = await axiosInstance.post('/login/default', credentials);\n        return { success: true, data: response.data, error: null };\n\n    } catch (error) {\n        if (error.response.status == 428)\n            router.push('/otp');\n\n        return { success: false, data: null, error: error.response.data.detail || 'Error desconocido.' };\n    }\n}\n\nasync function handleIntraRedirect() {\n    try {\n      // Peticion de build url al back\n     // const response = await axios.get('http://localhost:4242/api/intra');\n      // Redireccion a la url\n      window.location.href = 'http://localhost:4242/api/intra';\n    \n    } catch (error) {\n      console.error('Error al manejar el inicio de sesión con Intra 42:', error);\n    }\n}\n\n\nexport { handleIntraRedirect ,collectBrowserData , sendDataToServer, register, login};\n"],"mappings":";AAAA,OAAOA,MAAM,MAAM,UAAU;AAC7B,OAAOC,aAAa,MAAM,iBAAiB;AAC3C;;AAGA;AACA;AACA,SAASC,kBAAkBA,CAAA,EAAG;EAC1B,MAAMC,IAAI,GAAG;IACbC,WAAW,EAAEC,SAAS,CAACC,OAAO;IAC9BC,cAAc,EAAEF,SAAS,CAACG,UAAU;IACpCC,SAAS,EAAEJ,SAAS,CAACI,SAAS;IAC9BC,QAAQ,EAAEL,SAAS,CAACK,QAAQ;IAC5BC,QAAQ,EAAEN,SAAS,CAACM,QAAQ;IAC5BC,gBAAgB,EAAG,GAAEC,MAAM,CAACC,KAAM,IAAGD,MAAM,CAACE,MAAO;EACrD,CAAC;EACDC,gBAAgB,CAACb,IAAI,CAAC;AACxB;;AAEA;AACA,eAAea,gBAAgBA,CAACb,IAAI,EAAE;EAClCF,aAAa,CAACgB,IAAI,CAAC,+BAA+B,EAAEd,IAAI,EAAG;IAAEe,OAAO,EAAE;EAAK,CAAC,CAAC,CAC5EC,IAAI,CAAEC,QAAQ,IAAK;IAClBC,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEF,QAAQ,CAAC;EACtD,CAAC,CAAC,CACDG,KAAK,CAAEC,KAAK,IAAK;IAChBH,OAAO,CAACG,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;EAChD,CAAC,CAAC;AACN;;AAEA;AACA,eAAeC,QAAQA,CAACC,WAAW,EAAE;EACjC,IAAI;IACA,MAAMN,QAAQ,GAAG,MAAMnB,aAAa,CAACgB,IAAI,CAAC,iBAAiB,EAAES,WAAW,CAAC;IACzE,OAAO;MAAEC,OAAO,EAAE,IAAI;MAAExB,IAAI,EAAEiB,QAAQ,CAACjB,IAAI;MAAEqB,KAAK,EAAE;IAAK,CAAC;EAE9D,CAAC,CAAC,OAAOA,KAAK,EAAE;IACZ,OAAO;MAAEG,OAAO,EAAE,KAAK;MAAExB,IAAI,EAAE,IAAI;MAAEqB,KAAK,EAAEA,KAAK,CAACJ,QAAQ,CAACjB,IAAI,CAACyB,MAAM,IAAI;IAAqB,CAAC;EACpG;AACJ;;AAEA;AACA,eAAeC,KAAKA,CAACH,WAAW,EAAE;EAC9B,IAAI;IACA,MAAMN,QAAQ,GAAG,MAAMnB,aAAa,CAACgB,IAAI,CAAC,gBAAgB,EAAES,WAAW,CAAC;IACxE,OAAO;MAAEC,OAAO,EAAE,IAAI;MAAExB,IAAI,EAAEiB,QAAQ,CAACjB,IAAI;MAAEqB,KAAK,EAAE;IAAK,CAAC;EAE9D,CAAC,CAAC,OAAOA,KAAK,EAAE;IACZ,IAAIA,KAAK,CAACJ,QAAQ,CAACU,MAAM,IAAI,GAAG,EAC5B9B,MAAM,CAAC+B,IAAI,CAAC,MAAM,CAAC;IAEvB,OAAO;MAAEJ,OAAO,EAAE,KAAK;MAAExB,IAAI,EAAE,IAAI;MAAEqB,KAAK,EAAEA,KAAK,CAACJ,QAAQ,CAACjB,IAAI,CAACyB,MAAM,IAAI;IAAqB,CAAC;EACpG;AACJ;AAEA,eAAeI,mBAAmBA,CAAA,EAAG;EACjC,IAAI;IACF;IACD;IACC;IACAC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,iCAAiC;EAE1D,CAAC,CAAC,OAAOX,KAAK,EAAE;IACdH,OAAO,CAACG,KAAK,CAAC,oDAAoD,EAAEA,KAAK,CAAC;EAC5E;AACJ;AAGA,SAASQ,mBAAmB,EAAE9B,kBAAkB,EAAGc,gBAAgB,EAAES,QAAQ,EAAEI,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}