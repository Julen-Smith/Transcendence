{"ast":null,"code":"import axiosInstance from '../axiosService';\n//import axios from 'axios';\n\n// Se encarga de recoger los datos del navegador y enviarlos al servidor\n// Home View\n\n//RegisterView @POST /create_user\nasync function register(credentials) {\n  try {\n    const response = await axiosInstance.post('/login/register', credentials);\n    return {\n      success: true,\n      data: response.data,\n      error: null\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: null,\n      error: error.response.data.detail || 'Error desconocido.'\n    };\n  }\n}\n\n//LoginView @POST /login_user\nasync function login(credentials) {\n  try {\n    const response = await axiosInstance.post('/login/default', credentials);\n    return {\n      success: true,\n      data: response.data,\n      error: null\n    };\n  } catch (error) {\n    if (error.response) {\n      return {\n        success: false,\n        data: null,\n        error: 'Necesita verificación OTP',\n        status: 428\n      };\n      //return { success: false, data: null, error: error.response.data.detail || 'Error desconocido.' };\n    } else {\n      console.error(\"Error making the request:\", error);\n      return {\n        success: false,\n        data: null,\n        error: 'Necesita verificación OTP',\n        status: 428\n      };\n      //return { success: false, data: null, error: 'Error de red o desconocido.' };\n    }\n  }\n}\nasync function handleIntraRedirect() {\n  try {\n    // Peticion de build url al back\n    // const response = await axios.get('http://localhost:4242/api/intra');\n    // Redireccion a la url\n    window.location.href = 'http://localhost:4242/api/intra';\n  } catch (error) {\n    console.error('Error al manejar el inicio de sesión con Intra 42:', error);\n  }\n}\nexport { handleIntraRedirect, register, login };","map":{"version":3,"names":["axiosInstance","register","credentials","response","post","success","data","error","detail","login","status","console","handleIntraRedirect","window","location","href"],"sources":["/Transcendence/develop/vue/volume/main/src/methods/api/login.js"],"sourcesContent":["\nimport axiosInstance from '../axiosService';\n//import axios from 'axios';\n\n\n// Se encarga de recoger los datos del navegador y enviarlos al servidor\n// Home View\n\n\n//RegisterView @POST /create_user\nasync function register(credentials) {\n    try {\n        const response = await axiosInstance.post('/login/register', credentials);\n        return { success: true, data: response.data, error: null };\n\n    } catch (error) {\n        return { success: false, data: null, error: error.response.data.detail || 'Error desconocido.' };\n    }\n}\n\n//LoginView @POST /login_user\nasync function login(credentials) {\n  try {\n      const response = await axiosInstance.post('/login/default', credentials);\n      return { success: true, data: response.data, error: null };\n  } catch (error) {\n      if (error.response) {\n        return { success: false, data: null, error: 'Necesita verificación OTP', status: 428 };\n        //return { success: false, data: null, error: error.response.data.detail || 'Error desconocido.' };\n      } else {\n          console.error(\"Error making the request:\", error);\n          return { success: false, data: null, error: 'Necesita verificación OTP', status: 428 };\n          //return { success: false, data: null, error: 'Error de red o desconocido.' };\n      }\n  }\n}\n\nasync function handleIntraRedirect() {\n    try {\n      // Peticion de build url al back\n     // const response = await axios.get('http://localhost:4242/api/intra');\n      // Redireccion a la url\n      window.location.href = 'http://localhost:4242/api/intra';\n    \n    } catch (error) {\n      console.error('Error al manejar el inicio de sesión con Intra 42:', error);\n    }\n}\n\nexport { handleIntraRedirect, register, login};\n"],"mappings":"AACA,OAAOA,aAAa,MAAM,iBAAiB;AAC3C;;AAGA;AACA;;AAGA;AACA,eAAeC,QAAQA,CAACC,WAAW,EAAE;EACjC,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMH,aAAa,CAACI,IAAI,CAAC,iBAAiB,EAAEF,WAAW,CAAC;IACzE,OAAO;MAAEG,OAAO,EAAE,IAAI;MAAEC,IAAI,EAAEH,QAAQ,CAACG,IAAI;MAAEC,KAAK,EAAE;IAAK,CAAC;EAE9D,CAAC,CAAC,OAAOA,KAAK,EAAE;IACZ,OAAO;MAAEF,OAAO,EAAE,KAAK;MAAEC,IAAI,EAAE,IAAI;MAAEC,KAAK,EAAEA,KAAK,CAACJ,QAAQ,CAACG,IAAI,CAACE,MAAM,IAAI;IAAqB,CAAC;EACpG;AACJ;;AAEA;AACA,eAAeC,KAAKA,CAACP,WAAW,EAAE;EAChC,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMH,aAAa,CAACI,IAAI,CAAC,gBAAgB,EAAEF,WAAW,CAAC;IACxE,OAAO;MAAEG,OAAO,EAAE,IAAI;MAAEC,IAAI,EAAEH,QAAQ,CAACG,IAAI;MAAEC,KAAK,EAAE;IAAK,CAAC;EAC9D,CAAC,CAAC,OAAOA,KAAK,EAAE;IACZ,IAAIA,KAAK,CAACJ,QAAQ,EAAE;MAClB,OAAO;QAAEE,OAAO,EAAE,KAAK;QAAEC,IAAI,EAAE,IAAI;QAAEC,KAAK,EAAE,2BAA2B;QAAEG,MAAM,EAAE;MAAI,CAAC;MACtF;IACF,CAAC,MAAM;MACHC,OAAO,CAACJ,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjD,OAAO;QAAEF,OAAO,EAAE,KAAK;QAAEC,IAAI,EAAE,IAAI;QAAEC,KAAK,EAAE,2BAA2B;QAAEG,MAAM,EAAE;MAAI,CAAC;MACtF;IACJ;EACJ;AACF;AAEA,eAAeE,mBAAmBA,CAAA,EAAG;EACjC,IAAI;IACF;IACD;IACC;IACAC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,iCAAiC;EAE1D,CAAC,CAAC,OAAOR,KAAK,EAAE;IACdI,OAAO,CAACJ,KAAK,CAAC,oDAAoD,EAAEA,KAAK,CAAC;EAC5E;AACJ;AAEA,SAASK,mBAAmB,EAAEX,QAAQ,EAAEQ,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}